<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
              crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
              crossorigin="anonymous">
        <link rel="stylesheet" href="css/LoginPage.css">
        <script
                src="http://code.jquery.com/jquery-3.3.1.js"
                integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
                crossorigin="anonymous"></script>
        <script>
            $.ajax({
                type: 'GET',
                url:'http://localhost:50953/api/EmployeeDatas',
                success: function(data){
                    console.log(data);
                    for(i=0; i<data.length ; i++)
                    {                  
                        //                        console.log(data[i].IdNumber);

                        $('#UserListTable').append(
                            '<tr><td id="Number">' + (i+1) +
                            '</td><td id="IdNumber">'+ data[i].IdNumber +
                            '</td><td id="Name">' + data[i].Name +
                            '</td><td id="Designation">' + data[i].IdType +
                            '</td><td id="Email ID">' + data[i].Email +
                            '</td><td id="Phone Number">' + data[i].Contact+
                            '</td><td id="Update"><a href="CreateTable.html?id=' + data[i].IdNumber + '"><button class=" btn btn-success btn-lg">UPDATE</button></a>'+
                            '</td><td id="delete"><a href="CreateTable.html?id=' + data[i].IdNumber + '"><button class=" btn btn-warning btn-lg" id="DeleteAccount">Delete</button>'
                        );
                    }
                }

            });
            $("#DeleteAccount").click(function(){ 
                $.ajax({
                    type: 'DELETE',
                    url: 'http://localhost:50953/api/EmployeeDatas/' + EmpId,
                    success: function(data) {                
                        alert("User deleted !!");

                        location.replace("TableEmployee.html");
                    }
                });
            });
            $(document).ready(function(){

                var Desg= document.getElementById("Desg").value;
                var userId= document.getElementById("userId").value;
                var martial= document.getElementById("martial").value;
                var dob= document.getElementById("dob").value;
                var name= document.getElementById("name").value;
                var contact= document.getElementById("contact").value;
                var home= document.getElementById("home").value;
                var email= document.getElementById("email").value;
                var adddress= document.getElementById("address").value;
                var pin= document.getElementById("pin").value;
                var state= document.getElementById("state").value;

                var getUrl = function getUrl(param){
                    var pageUrl = window.location.search.substring(1);
                    var urlVariables = pageUrl.split("&");
                    var parameterName;
                    var i;
                    for(i=0; i<urlVariables.length; i++){
                        parameterName = urlVariables[i].split("=");
                        if(parameterName[0] == param){
                            return  parameterName[1] == undefined ? true : decodeURIComponent(parameterName[1]);
                        }
                    }
                }

                var EmpId = getUrl("id");
                console.log(EmpId);

                $.ajax({
                    type: 'GET',
                    url: 'http://localhost:50953/api/EmployeeDatas/' + EmpId,
                    success: function(data) {
                    }
                });
            });
        </script>
        <title>Cyber Group</title>
    </head>

    <body>

        <nav class="navbar navbar-expand-lg bg-dark navbar-dark fixed-top">
            <div class="container">
                <a class="navbar-brand d-none d-lg-block" href="#"><img src="img/logo.png" alt=""></a>
                <a class="navbar-brand navbar-brand-1" href="#">Cyber Group</a>

                <!-- Toggler/collapsibe Button -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>


                <!-- Navbar links -->
                <div class="collapse navbar-collapse" id="collapsibleNavbar">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">HOME</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="SignUp.html">SIGNUP</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="TableEmployee.html">LIST</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="CreateTable.html">CREATE TABLE</a>
                        </li> 
                    </ul>
                </div> 
            </div>
        </nav>
        <header>
            <div id="home-section">
                <div class="dark-overlay">
                    <div class="tablecontainer container">          
                        <table class="table mt-5 table-hover " id="UserListTable">
                            <thead class="thead-dark">
                                <tr>
                                    <th>#</th>
                                    <th>Intern ID</th>
                                    <th>Name</th>
                                    <th>Designation</th>
                                    <th>Email ID</th>
                                    <th>Contact Number</th>
                                    <th>Update</th>
                                    <th>Delete</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </header>
        <footer>
            <div class="row">

                <div class="col-lg-4 footer-part mt-5">
                    <div class="container">
                        <h2>Cyber Group India</h2>
                        <h4>Sector-03</h4>
                        <h4>Noida,Uttar Pradesh</h4>
                        <h4>India</h4>
                    </div>
                </div>
                <div class="col-lg-4 footer-part mt-5">
                    <div class="container">
                        <h2>Cyber Group USA</h2>
                        <h4>XYZ</h4>
                        <h4>Dllas,Texas</h4>
                        <h4>United States Of America</h4>
                    </div>
                </div>
                <div class="col-lg-4 footer-part mt-5">
                    <h2>Contact US</h2>
                    <h3><a href="mailto:nikhiltayal9211@gmail.com"><i class="fas fa-at"></i>Email </a></h3>
                    <h3><a href="https://cygrp.com/"><i class="fab fa-chrome"></i>Cygrp.com</a></h3>
                    <h3><i class="fas fa-mobile-alt"></i>  987337914</h3>
                </div>
            </div>
        </footer>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
                crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
                crossorigin="anonymous"></script>

        <script>
            // Get the current year for the copyright
            $('#year').text(new Date().getFullYear());
        </script>
    </body>

</html>
